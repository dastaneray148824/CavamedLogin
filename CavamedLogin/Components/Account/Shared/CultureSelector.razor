@using System.Globalization
@inject NavigationManager Navigation

@{
    bool isTr = CultureInfo.CurrentCulture.Name == "tr-TR";
    string currentLabel = isTr ? "Türkçe" : "English";
}

<div class="lang-row">
    <div class="sl-nav">
        <ul>
            <li>
                <b>@currentLabel</b> <i class="fa fa-angle-down" aria-hidden="true"></i>
                <div class="triangle"></div>
                <ul>
                    <!-- Türkçe seçeneği -->
                    <li>
                        <form action="/Culture/Set" method="post" class="lang-form">
                            <input type="hidden" name="redirectUri" value="@RelativeRedirectUri" />
                            <button type="submit" name="culture" value="tr-TR" class="sl-option">
                                <span class="fi fi-tr"></span>   @* Türkçe *@
                                <span class="@(isTr ? "active" : null)">Türkçe</span>
                            </button>
                        </form>
                    </li>

                    <!-- English seçeneği -->
                    <li>
                        <form action="/Culture/Set" method="post" class="lang-form">
                            <input type="hidden" name="redirectUri" value="@RelativeRedirectUri" />
                            <button type="submit" name="culture" value="en-US" class="sl-option">
                                <span class="fi fi-gb"></span>   @* English *@
                                <span class="@(isTr ? null : "active")">English</span>
                            </button>
                        </form>
                    </li>
                </ul>
            </li>
        </ul>
    </div>
</div>

@code {
    private string RelativeRedirectUri => new Uri(Navigation.Uri).PathAndQuery;
}
